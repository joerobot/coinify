"use strict";function validateInput(n){var t=isNaN(n.charAt(0)),e=new RegExp(/(?=.)^\£?(([1-9][0-9]{0,2}(,[0-9]{3})*)|[0-9]+)?(\.[0-9]{1,2})?p?$/);return!(!n.match(e)||t&&!(t&&n.length>1))}function whichCoins(n,t,e){var s=[200,100,50,20,10,5,2,1];if(e<s.length){var i=n%s[e],o=(n-i)/s[e];o&&t.push({coin:s[e],number:o}),whichCoins(i,t,e+1)}return t}function justNumbers(n){var t=n;return isNaN(t.charAt(0))&&(t=t.slice(1)),isNaN(t.charAt(t.length-1))&&(t=t.slice(0,t.length-1)),t.indexOf(",")>-1&&(t=t.split(",").join("")),t}function getNumber(n){var t=isNaN(n.charAt(0))||n.indexOf(".")>-1,e=parseFloat(justNumbers(n)),s=t?100:1;return parseInt(e*s)}function toPrettyCurrency(n){return n>=100?"£"+n/100:n+"p"}var svgMultiply='\n    <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" version="1.1" x="0px" y="0px" viewBox="0 0 823.93427 1029.8962375" enable-background="new 0 0 2000 2000" xml:space="preserve"><path style="" d="m 776.75678,0 c -12.064,0 -24.124,4.608 -33.345,13.828 L 411.94378,345.27301 80.52575,13.879 c -18.443,-18.441 -48.255,-18.441 -66.695,0 -18.441,18.44 -18.441,48.244 0,66.685 l 331.418,331.39601 -331.418,331.399 c -18.441,18.44 -18.441,48.25 0,66.691 9.198,9.198 21.272,13.817 33.347,13.817 12.073,0 24.15,-4.619 33.348,-13.817 l 331.41803,-331.398 331.468,331.445 c 9.197,9.198 21.271,13.82 33.345,13.82 12.074,0 24.101,-4.622 33.346,-13.82 18.442,-18.441 18.442,-48.247 0,-66.687 l -331.464,-331.446 331.464,-331.44501 c 18.442,-18.441 18.442,-48.25 0,-66.691 C 800.88178,4.608 788.81678,0 776.75678,0 Z" fill="#666666"/></svg>\n',svgEquals='\n    <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" version="1.1" x="0px" y="0px" viewBox="0 0 100 125"><g transform="translate(0,-952.36218)"><path style="text-indent:0;text-transform:none;direction:ltr;block-progression:tb;baseline-shift:baseline;color:#000000;enable-background:accumulate;" d="m 23,991.36218 c -1.10457,0 -2,0.8954 -2,2 0,1.1045 0.89543,2 2,2 l 54,0 c 1.10457,0 2,-0.8955 2,-2 0,-1.1046 -0.89543,-2 -2,-2 l -54,0 z m 0,18.00002 c -1.10457,0 -2,0.8954 -2,2 0,1.1045 0.89543,2 2,2 l 54,0 c 1.10457,0 2,-0.8955 2,-2 0,-1.1046 -0.89543,-2 -2,-2 l -54,0 z" fill="#666666" fill-opacity="1" stroke="none" marker="none" visibility="visible" display="inline" overflow="visible"/></g></svg>\n';document.addEventListener("DOMContentLoaded",function(){function n(n){validateInput(n.target.value)?(e.classList.add("valid"),e.classList.remove("invalid")):0===n.target.value.length?(e.classList.remove("valid"),e.classList.remove("invalid")):(e.classList.remove("valid"),e.classList.add("invalid"))}function t(n){var t=document.querySelector(".coinify__output"),e=Object.keys(n),s=[];e.forEach(function(t){var e=toPrettyCurrency(n[t].coin),i=n[t].coin,o='\n                <div class="output__row">\n                    <span class="output__coin"><i class="coin output__coin--'+i+'"></i></span>\n                    <span class="output__coin-value">'+e+'</span>\n                    <span class="output__multiply">'+svgMultiply+'</span>\n                    <span class="output__number">'+n[t].number+'</span>\n                    <span class="output__equals">'+svgEquals+'</span>\n                    <span class="output__subtotal">'+toPrettyCurrency(n[t].number*n[t].coin)+"</span>\n                </div>\n            ";s.push(o)}),s.forEach(function(n){return t.innerHTML+=n})}var e=document.querySelector("form"),s=e.querySelector(".coinify__input__form");e.querySelector(".coinify__input__button");e.querySelector(".coinify__input__form").addEventListener("keyup",n),e.addEventListener("submit",function(n){if(n.preventDefault(),validateInput(s.value)){document.querySelector(".coinify__output").innerHTML="";var e=whichCoins(getNumber(s.value),[],0);t(e)}else console.log("Try again")})});